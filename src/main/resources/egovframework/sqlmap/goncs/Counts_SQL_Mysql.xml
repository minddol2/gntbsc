<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="Countss">

	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="CountsVO" type="egovframework.goncs.counts.service.CountsVO"/>
	<typeAlias  alias="CountsVOs" type="egovframework.goncs.counts.service.CountsVO"/>

	<select id="countsDAO.selectCountsList" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_datexx, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
         <isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_datexx
   		ORDER BY ct_datexx
   		LIMIT  #recordCountPerPage# OFFSET #firstIndex#
		]]>
	</select>
	
	<select id="countsDAO.selectCountsListCnt" parameterClass="CountsVO" resultClass="int">
		<![CDATA[
			SELECT COUNT(ct_idx) AS ct_cnt
			FROM tb_counts
			WHERE 1=1
		 ]]>
		<isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
	</select>
	
	<select id="countsDAO.selectCountsListPage" parameterClass="CountsVO" resultClass="int">
		<![CDATA[
			SELECT COUNT(distinct ct_datexx) AS ct_cnt
			FROM tb_counts
			WHERE 1=1
		 ]]>
		<isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
	</select>
	
	<select id="countsDAO.selectCountsListXls" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_datexx, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
         <isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_datexx
   		ORDER BY ct_datexx
		]]>
	</select>
	
	<select id="countsDAO.selectCountsList2" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_datex, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
         <isNotEmpty property="sdatex">
             AND ct_datex BETWEEN #sdatex# AND #edatex#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_datex
   		ORDER BY ct_datex
		]]>
	</select>
	
	<select id="countsDAO.selectCountsListCnt2" parameterClass="CountsVO" resultClass="int">
		<![CDATA[
			SELECT COUNT(ct_idx) AS ct_cnt
			FROM tb_counts
			WHERE 1=1
		 ]]>
		<isNotEmpty property="sdatex">
             AND ct_datex BETWEEN #sdatex# AND #edatex#
         </isNotEmpty>
	</select>

	<insert id="countsDAO.insertCounts">
        <![CDATA[
            INSERT INTO tb_counts 
                (   
                    ct_year   ,
                    ct_datex  ,
                    ct_datexx  ,
                    ct_youle  ,
                    ct_timex  ,
                    ct_ip  ,
                    ct_location  ,
                    ct_pc  ,
                    ct_page  )
              VALUES(
                    #ct_year#,
                    #ct_datex#,
                    #ct_datexx#,
                    #ct_youle#,
                    #ct_timex#,
                    #ct_ip#,
                    #ct_location#,
                    #ct_pc#,
                    #ct_page#  )              
        ]]>
    </insert>
    
	<select id="countsDAO.selectCountsList3" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_youle, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
        <isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_youle
   		ORDER BY ct_youle
		]]>
	</select>
	
	<select id="countsDAO.selectCountsListCnt3" parameterClass="CountsVO" resultClass="int">
		<![CDATA[
			SELECT COUNT(ct_idx) AS ct_cnt
			FROM tb_counts
			WHERE 1=1
		 ]]>
		<isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
	</select>
	
	<select id="countsDAO.selectCountsList4" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_timex, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
        <isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_timex
   		ORDER BY ct_timex
		]]>
	</select>
	
	<select id="countsDAO.selectCountsList5" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_ip, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
        <isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_ip
   		ORDER BY ct_ip
   		LIMIT  #recordCountPerPage# OFFSET #firstIndex#
		]]>
	</select>
	
	<select id="countsDAO.selectCountsListPage5" parameterClass="CountsVO" resultClass="int">
		<![CDATA[
			SELECT COUNT(distinct ct_ip) AS ct_cnt
			FROM tb_counts
			WHERE 1=1
		 ]]>
		<isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
	</select>
	
	<select id="countsDAO.selectCountsListXls5" parameterClass="CountsVO" resultClass="CountsVOs">
		<![CDATA[ 
			SELECT ct_ip, count(ct_idx) ct_cnt
			FROM tb_counts
			WHERE 1=1
		]]>
        <isNotEmpty property="strdat">
             AND ct_datexx BETWEEN #strdat# AND #enddat#
         </isNotEmpty>
		<![CDATA[ 
		GROUP BY ct_ip
   		ORDER BY ct_ip
		]]>
	</select>
	
    

</sqlMap>  